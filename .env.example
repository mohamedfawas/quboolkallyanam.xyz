# -----------------------------------------------------------------------------
# .env.example for qubool-kallyanam docker-compose
# -----------------------------------------------------------------------------
# - Replace placeholder values (changeme_*, example@, rzp_*, smtp-*) with real values.
# - This file is a sample. Never commit production secrets to your repo.
# -----------------------------------------------------------------------------

# ---------- Global / environment ----------
ENVIRONMENT=development                    # development | staging | production
DEFAULT_TIMEZONE=Asia/Kolkata

# ---------- Gateway ----------
GATEWAY_HTTP_PORT=8080
GATEWAY_BASE_URL=http://localhost:${GATEWAY_HTTP_PORT}

# ---------- Shared Postgres (used by all services except DB name) ----------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_SSLMODE=disable
POSTGRES_TIMEZONE=Asia/Kolkata

# Per-service Postgres DB names (service-specific)
AUTH_POSTGRES_DBNAME=qubool_kallyanam_auth
USER_POSTGRES_DBNAME=qubool_kallyanam_user
CHAT_POSTGRES_DBNAME=qubool_kallyanam_chat
PAYMENT_POSTGRES_DBNAME=qubool_kallyanam_payment

# ---------- Redis (shared) ----------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=                             # leave empty for no password
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# ---------- RabbitMQ (shared) ----------
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest
# Connection string used by services
RABBITMQ_DSN=amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/
# Single shared exchange name for all services (change if you need multiple exchanges)
RABBITMQ_EXCHANGE_NAME=qubool_kallyanam_exchange

# ---------- Google Pub/Sub / GCP project (shared) ----------
PUBSUB_PROJECT_ID=project-id-placeholder

# ---------- JWT (shared across gateway + auth) ----------
JWT_SECRET_KEY=changeme_jwt_secret
JWT_ACCESS_TOKEN_MINUTES=15
JWT_REFRESH_TOKEN_DAYS=7
JWT_ISSUER=qk-jwt

# ---------- gRPC ports (single source of truth for all services) ----------
AUTH_GRPC_PORT=50051
USER_GRPC_PORT=50061
CHAT_GRPC_PORT=50071
PAYMENT_GRPC_PORT=50081

# ---------- Mongo (shared for chat) ----------
MONGODB_URI=mongodb://mongo:27017
CHAT_MONGODB_DATABASE=quboolkallayanam_chat_mongo
MONGODB_TIMEOUT=10            # seconds

# ---------- Auth service specific ----------
AUTH_ADMIN_DEFAULT_ADMIN_EMAIL=admin@example.com
AUTH_ADMIN_DEFAULT_ADMIN_PASSWORD=admin123
AUTH_AUTH_PENDING_REGISTRATION_EXPIRY_HOURS=48
AUTH_AUTH_OTP_EXPIRY_MINUTES=5
AUTH_REDIS_DB=1                # if you use Redis DB indices per service

# ---------- User service specific (media storage) ----------
USER_MEDIA_STORAGE_BUCKET=qubool-kallyanam-media
USER_MEDIA_STORAGE_URL_EXPIRY=15m         # time.Duration value (or use seconds)
USER_MEDIA_STORAGE_SIGNER_EMAIL=service-account@example.iam.gserviceaccount.com

# ---------- Payment service specific ----------
PAYMENT_RAZORPAY_KEY_ID=rzp_test_xxx
PAYMENT_RAZORPAY_KEY_SECRET=rzp_secret_xxx

# ---------- Notification (SMTP) ----------
NOTIFICATION_EMAIL_SMTP_HOST=smtp.example.com
NOTIFICATION_EMAIL_SMTP_PORT=587
NOTIFICATION_EMAIL_SMTP_USERNAME=smtp-user
NOTIFICATION_EMAIL_SMTP_PASSWORD=smtp-pass
NOTIFICATION_EMAIL_FROM_EMAIL=no-reply@example.com
NOTIFICATION_EMAIL_FROM_NAME="Qubool Kallyanam"

# -----------------------------------------------------------------------------
# Notes:
# - Use this file as .env.example. Create a real `.env` for your environment
#   (or use `.env.development` / `.env.production`) and DO NOT commit real secrets.
# - Docker Compose substitutes ${VAR} from the actual .env at runtime. Avoid
#   relying on variable expansion inside the .env file itself.
# -----------------------------------------------------------------------------
